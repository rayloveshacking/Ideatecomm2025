<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Buddy Matching - Anchor by Ageless Bicyclists</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="/style/styles.css">
    <script>
        let currentParticipantId = null;
        let participants = [];
        let matchData = [];

        function initResponsiveNav() {
            const navContainer = document.querySelector('.nav-container');
            const toggle = document.querySelector('.nav-toggle');
            const navList = document.getElementById('primary-navigation');
            if (!navContainer || !toggle || !navList) return;

            const toggleIcon = toggle.querySelector('i');

            const closeMenu = () => {
                navContainer.dataset.menuOpen = 'false';
                toggle.setAttribute('aria-expanded', 'false');
                if (toggleIcon) {
                    toggleIcon.classList.add('fa-bars');
                    toggleIcon.classList.remove('fa-xmark');
                }
            };

            toggle.addEventListener('click', (event) => {
                event.stopPropagation();
                const isOpen = navContainer.dataset.menuOpen === 'true';
                const nextState = !isOpen;
                navContainer.dataset.menuOpen = String(nextState);
                toggle.setAttribute('aria-expanded', String(nextState));
                if (toggleIcon) {
                    toggleIcon.classList.toggle('fa-bars', !nextState);
                    toggleIcon.classList.toggle('fa-xmark', nextState);
                }
            });

            document.addEventListener('click', (event) => {
                if (!navContainer.contains(event.target)) {
                    closeMenu();
                }
            });

            navList.querySelectorAll('a').forEach((link) => {
                link.addEventListener('click', () => closeMenu());
            });

            window.addEventListener('resize', () => {
                if (window.innerWidth > 640) {
                    closeMenu();
                }
            });

            closeMenu();
        }

        function loadParticipants() {
            console.log('Loading participants...');
            fetch('/api/participants')
            .then(response => {
                console.log('Response status:', response.status);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log('Participants loaded:', data);
                participants = data;
                const select = document.getElementById('participant-select');
                select.innerHTML = '<option value="">Select a participant...</option>' +
                    participants.map(p => `<option value="${p.id}">${p.name}</option>`).join('');
                console.log('Dropdown updated with', participants.length, 'participants');
            })
            .catch(error => {
                console.error('Error loading participants:', error);
                alert('Failed to load participants. Error: ' + error.message);
            });
        }

        function getCompatibilityColor(score) {
            if (score >= 0.8) return 'text-green-600';
            if (score >= 0.6) return 'text-amber-600';
            return 'text-slate-600';
        }

        function getCompatibilityBg(score) {
            if (score >= 0.8) return 'bg-green-50 border-green-200';
            if (score >= 0.6) return 'bg-amber-50 border-amber-200';
            return 'bg-slate-50 border-slate-200';
        }

        function loadMatches() {
            const participantId = document.getElementById('participant-select').value;
            if (!participantId) {
                document.getElementById('participant-profile').innerHTML = '';
                document.getElementById('matches-container').innerHTML = '';
                return;
            }

            currentParticipantId = participantId;
            const participant = participants.find(p => p.id === participantId);

            // Display participant profile (will be updated with buddy selection after fetch)
            if (participant) {
                document.getElementById('participant-profile').innerHTML = `
                    <div class="glass-card glass-card--light">
                        <h3 class="text-2xl font-bold text-slate-900 mb-4">
                            <i class="fa-solid fa-user"></i> ${participant.name}
                        </h3>
                        
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-semibold text-slate-700 mb-2"><i class="fa-solid fa-volume-high"></i> Sensory Profile</h4>
                                <div class="flex flex-wrap gap-2">
                                    ${Object.entries(participant.sensoryProfile || {}).map(([key, value]) => 
                                        `<span class="chip ${value === 'sensitive' ? 'bg-rose-100 text-rose-700' : 'bg-green-100 text-green-700'}">
                                            ${key}: ${value}
                                        </span>`
                                    ).join('')}
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-slate-700 mb-2"><i class="fa-solid fa-hand-holding-heart"></i> Support Needs</h4>
                                <div class="flex flex-wrap gap-2">
                                    ${(participant.supportNeeds || []).map(need => 
                                        `<span class="chip">${need.replace(/-/g, ' ')}</span>`
                                    ).join('')}
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-slate-700 mb-2"><i class="fa-solid fa-star"></i> Strengths</h4>
                                <div class="flex flex-wrap gap-2">
                                    ${(participant.strengths || []).map(strength => 
                                        `<span class="chip bg-purple-100 text-purple-700">${strength}</span>`
                                    ).join('')}
                                </div>
                            </div>
                            
                            <div id="buddy-button-section" class="hidden">
                                <div class="divider my-4"></div>
                                <button id="assign-buddy-btn" onclick="assignBestBuddy()" 
                                    class="btn btn-primary w-full justify-center">
                                    <i class="fa-solid fa-user-check"></i> Assign Best Match Buddy
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            fetch(`/api/participants/${participantId}/matches`)
            .then(response => {
                console.log('Fetching matches for participant:', participantId);
                return response.json();
            })
            .then(data => {
                matchData = data;
                
                if (data.length === 0) {
                    document.getElementById('matches-container').innerHTML = `
                        <div class="empty-state col-span-full">
                            <i class="fa-solid fa-exclamation-circle text-4xl mb-3"></i>
                            <p>No compatible buddies found for this participant.</p>
                        </div>
                    `;
                    return;
                }
                
                // Show assign button inside the participant profile
                const buddyButtonSection = document.getElementById('buddy-button-section');
                if (buddyButtonSection) {
                    buddyButtonSection.classList.remove('hidden');
                }
                
                // Clear matches container
                document.getElementById('matches-container').innerHTML = '';
            })
            .catch(error => console.error('Error loading matches:', error));
        }
        
        function assignBestBuddy() {
            if (!currentParticipantId || !matchData || matchData.length === 0) return;
            
            // Assign the best match (first one in the sorted list)
            const bestMatch = matchData[0];
            assignBuddy(bestMatch.volunteer.id);
        }
        
        function onBuddySelected() {
            // Not needed anymore
        }
        
        function assignSelectedBuddy() {
            // Not needed anymore
        }

        function assignBuddy(volunteerId) {
            if (!currentParticipantId) return;
            
            if (!confirm('Are you sure you want to assign this volunteer as a buddy?')) {
                return;
            }
            
            // Find the match score for this volunteer
            const match = matchData.find(m => m.volunteer.id === volunteerId);
            const matchScore = match ? Math.round(match.score.overall * 100) : 'N/A';
            
            fetch(`/api/participants/${currentParticipantId}/assign-buddy/${volunteerId}`, {
                method: 'POST'
            })
            .then(response => response.json())
            .then(data => {
                alert(`Successfully assigned buddy! Match score: ${matchScore}%`);
                loadMatches();
            })
            .catch(error => console.error('Error assigning buddy:', error));
        }

        function showAssessmentModal() {
            document.getElementById('assessment-modal').classList.remove('hidden');
        }

        function hideAssessmentModal() {
            document.getElementById('assessment-modal').classList.add('hidden');
        }

        document.addEventListener('DOMContentLoaded', () => {
            initResponsiveNav();
            loadParticipants();
            
            // Add assessment form event listener after DOM is loaded
            const assessmentForm = document.getElementById('personality-assessment-form');
            if (assessmentForm) {
                assessmentForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Collect form data
                    const formData = {
                        communicationStyle: document.querySelector('input[name="communication-style"]:checked')?.value,
                        energyLevel: document.querySelector('input[name="energy-level"]:checked')?.value,
                        patienceLevel: document.querySelector('input[name="patience-level"]:checked')?.value,
                        flexibility: document.querySelector('input[name="flexibility"]:checked')?.value,
                        asdExperience: document.querySelector('input[name="asd-experience"]:checked')?.value,
                        triggerManagement: document.querySelector('input[name="trigger-management"]:checked')?.value
                    };
                    
                    // In a real application, you would send this data to the server
                    // For now, we'll just show a success message and close the modal
                    alert('Assessment completed successfully! Your profile has been updated.');
                    hideAssessmentModal();
                    
                    // Reset form
                    this.reset();
                });
            }
        });
    </script>
    <style>
        .progress-bar {
            width: 120px;
            height: 8px;
            background: #e2e8f0;
            border-radius: 9999px;
            overflow: hidden;
        }
        
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(to right, #f97316, #ec4899);
            transition: width 0.3s ease;
        }
        
        .line-clamp-2 {
            display: -webkit-box;
            line-clamp: 2;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="nav-container" data-menu-open="false">
            <a class="brand-link" href="index.html">
                <span class="brand-emblem"><i class="fa-solid fa-bicycle"></i></span>
                <span>ANCHOR</span>
            </a>
            <button class="nav-toggle" type="button" aria-expanded="false" aria-controls="primary-navigation">
                <span class="sr-only">Toggle navigation</span>
                <i class="fa-solid fa-bars"></i>
            </button>
            <nav id="primary-navigation" class="nav-list">
                <a href="index.html" class="nav-link">Home</a>
                <a href="signup.html" class="nav-link">Join</a>
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <a href="events.html" class="nav-link">Events</a>
                <a href="stories.html" class="nav-link">Stories</a>
                <a href="buddy-matching.html" class="nav-link nav-link--active">Matching</a>
                <a href="onboarding.html" class="nav-link">Resources</a>
                <a href="vr-training.html" class="nav-link">VR Training</a>
                <a href="admin.html" class="nav-link">Admin</a>
            </nav>
        </div>
    </header>

    <main class="page-shell">
        <section class="hero-card">
            <article class="space-y-5">
                <span class="hero-eyebrow"><i class="fa-solid fa-people-arrows"></i> ASD-optimized matching</span>
                <h1 class="hero-title">Finding the perfect cycling buddy pair.</h1>
                <p class="hero-summary">Anchor's matching algorithm considers communication styles, sensory preferences, personality traits, and ASD-specific experience to create meaningful cycling partnerships that last.</p>
            </article>

            <article class="glass-card glass-card--light">
                <span class="tag"><i class="fa-solid fa-microscope"></i> How it works</span>
                <h2 class="mt-3 text-2xl font-extrabold text-slate-900">Weighted Compatibility Algorithm</h2>
                <div class="metric-ticker mt-5">
                    <div class="metric-card">
                        <span class="metric-label">40%</span>
                        <p class="text-sm text-slate-600 mt-2">Sensory Match Weight</p>
                    </div>
                    <div class="metric-card">
                        <span class="metric-label">30%</span>
                        <p class="text-sm text-slate-600 mt-2">Communication Style</p>
                    </div>
                    <div class="metric-card">
                        <span class="metric-label">20%</span>
                        <p class="text-sm text-slate-600 mt-2">Personality Fit</p>
                    </div>
                    <div class="metric-card">
                        <span class="metric-label">10%</span>
                        <p class="text-sm text-slate-600 mt-2">ASD Experience</p>
                    </div>
                </div>
                <p class="mt-4 text-slate-600 text-sm">Our algorithm prioritizes sensory compatibility—the most critical factor for successful ASD interactions—while balancing communication styles, personality alignment, and volunteer experience.</p>
            </article>
        </section>

        <section class="glass-card glass-card--light mb-8">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div>
                    <span class="tag"><i class="fa-solid fa-user-check"></i> Volunteer Personality Assessment</span>
                    <h2 class="mt-3 text-2xl font-extrabold text-slate-900">Understanding Volunteer Traits</h2>
                </div>
                <button onclick="showAssessmentModal()" class="btn btn-high-contrast"><i class="fa-solid fa-clipboard-list"></i> Take Assessment</button>
            </div>
            <p class="mt-3 text-slate-600">To improve matching accuracy, we assess key personality traits and skills of volunteers to pair them effectively with participants with ASD.</p>
            
            <div class="mt-6 grid gap-6 md:grid-cols-2">
                <div class="rounded-2xl border-indigo-100 bg-white/90 p-5 shadow-sm">
                    <div class="flex items-center justify-between gap-4">
                        <h4 class="text-sm font-semibold uppercase tracking-wide text-indigo-600">Communication Style</h4>
                        <i class="fa-solid fa-comments text-indigo-400"></i>
                    </div>
                    <p class="mt-3 text-slate-600">Understanding whether a volunteer prefers directive guidance or collaborative interaction helps match them with participants who have compatible communication needs.</p>
                    <div class="mt-4 flex flex-wrap gap-2">
                        <span class="chip bg-blue-100 text-blue-700">Directive</span>
                        <span class="chip bg-green-100 text-green-700">Collaborative</span>
                    </div>
                </div>
                
                <div class="rounded-2xl border border-indigo-100 bg-white/90 p-5 shadow-sm">
                    <div class="flex items-center justify-between gap-4">
                        <h4 class="text-sm font-semibold uppercase tracking-wide text-indigo-600">Energy Level</h4>
                        <i class="fa-solid fa-bolt text-indigo-400"></i>
                    </div>
                    <p class="mt-3 text-slate-600">Matching high-energy motivators with participants who thrive on enthusiasm, or calm presences with participants who need soothing support.</p>
                    <div class="mt-4 flex flex-wrap gap-2">
                        <span class="chip bg-amber-100 text-amber-700">High-Energy</span>
                        <span class="chip bg-emerald-100 text-emerald-700">Calm Presence</span>
                    </div>
                </div>
                
                <div class="rounded-2xl border border-indigo-100 bg-white/90 p-5 shadow-sm">
                    <div class="flex items-center justify-between gap-4">
                        <h4 class="text-sm font-semibold uppercase tracking-wide text-indigo-600">Patience & Flexibility</h4>
                        <i class="fa-solid fa-hourglass-half text-indigo-400"></i>
                    </div>
                    <p class="mt-3 text-slate-600">Assessing a volunteer's ability to remain patient during challenging moments and adapt to unexpected situations.</p>
                    <div class="mt-4 flex flex-wrap gap-2">
                        <span class="chip bg-purple-100 text-purple-700">High Patience</span>
                        <span class="chip bg-cyan-100 text-cyan-700">Flexible</span>
                    </div>
                </div>
                
                <div class="rounded-2xl border border-indigo-100 bg-white/90 p-5 shadow-sm">
                    <div class="flex items-center justify-between gap-4">
                        <h4 class="text-sm font-semibold uppercase tracking-wide text-indigo-600">ASD Experience</h4>
                        <i class="fa-solid fa-graduation-cap text-indigo-400"></i>
                    </div>
                    <p class="mt-3 text-slate-600">Evaluating previous experience with neurodiverse individuals to ensure appropriate support matching.</p>
                    <div class="mt-4 flex flex-wrap gap-2">
                        <span class="chip bg-rose-100 text-rose-700">Experienced</span>
                        <span class="chip bg-slate-100 text-slate-700">Newcomer</span>
                    </div>
                </div>
                
                <div class="rounded-2xl border border-indigo-100 bg-white/90 p-5 shadow-sm md:col-span-2">
                    <div class="flex items-center justify-between gap-4">
                        <h4 class="text-sm font-semibold uppercase tracking-wide text-indigo-600">Trigger Management Skills</h4>
                        <i class="fa-solid fa-shield-alt text-indigo-400"></i>
                    </div>
                    <p class="mt-3 text-slate-600">Assessing a volunteer's ability to identify and manage potential triggers for participants with ASD, ensuring a safe and comfortable environment.</p>
                    <div class="mt-4 flex flex-wrap gap-2">
                        <span class="chip bg-teal-100 text-teal-700">Trained</span>
                        <span class="chip bg-orange-100 text-orange-700">Learning</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Assessment Modal -->
        <div id="assessment-modal" class="fixed inset-0 bg-slate-900/70 backdrop-blur-sm flex items-center justify-center z-50 hidden">
            <div class="glass-card glass-card--light max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-extrabold text-slate-900">Volunteer Personality Assessment</h2>
                    <button onclick="hideAssessmentModal()" class="text-slate-500 hover:text-slate-700">
                        <i class="fa-solid fa-xmark text-2xl"></i>
                    </button>
                </div>
                
                <form id="personality-assessment-form" class="space-y-6">
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Communication Style</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="communication-style" value="directive" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Directive</p>
                                    <p class="text-sm text-slate-600">I prefer to provide clear instructions and guidance</p>
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="communication-style" value="collaborative" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Collaborative</p>
                                    <p class="text-sm text-slate-600">I prefer to work together and make decisions jointly</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Energy Level</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="energy-level" value="high-energy" class="text-purple-600">
                                <div>
                                    <p class="font-medium">High-Energy Motivator</p>
                                    <p class="text-sm text-slate-600">I bring enthusiasm and excitement to activities</p>
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="energy-level" value="calm-presence" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Calm Presence</p>
                                    <p class="text-sm text-slate-600">I provide a soothing and peaceful environment</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Patience Level</label>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="patience-level" value="high" class="text-purple-600">
                                <div>
                                    <p class="font-medium">High Patience</p>
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="patience-level" value="moderate" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Moderate Patience</p>
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="patience-level" value="developing" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Developing Patience</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Flexibility</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="flexibility" value="very-flexible" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Very Flexible</p>
                                    <p class="text-sm text-slate-600">I adapt easily to changes and unexpected situations</p>
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="flexibility" value="somewhat-flexible" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Somewhat Flexible</p>
                                    <p class="text-sm text-slate-600">I can adapt but prefer some structure</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Experience with Neurodiverse Individuals</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="asd-experience" value="extensive" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Extensive Experience</p>
                                    <p class="text-sm text-slate-600">I have significant experience working with individuals with ASD</p>
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="asd-experience" value="some" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Some Experience</p>
                                    <p class="text-sm text-slate-600">I have worked with neurodiverse individuals in some capacity</p>
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="asd-experience" value="none" class="text-purple-600">
                                <div>
                                    <p class="font-medium">No Experience</p>
                                    <p class="text-sm text-slate-600">I am new to working with individuals with ASD</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Trigger Management Skills</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="trigger-management" value="trained" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Trained</p>
                                    <p class="text-sm text-slate-600">I have formal training in identifying and managing triggers</p>
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="trigger-management" value="experienced" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Experienced</p>
                                    <p class="text-sm text-slate-600">I have practical experience managing triggers</p>
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer">
                                <input type="radio" name="trigger-management" value="learning" class="text-purple-600">
                                <div>
                                    <p class="font-medium">Learning</p>
                                    <p class="text-sm text-slate-600">I am actively learning about trigger management</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-full justify-center">
                        <i class="fa-solid fa-user-check"></i> Complete Assessment
                    </button>
                </form>
            </div>
        </div>

        <section class="glass-card glass-card--light mb-8">
            <h2 class="text-2xl font-bold text-slate-900 mb-4">
                <i class="fa-solid fa-filter"></i> Find Compatible Buddies
            </h2>
            <div class="mb-6">
                <label class="block text-sm font-semibold text-slate-700 mb-2">Select Participant</label>
                <select id="participant-select" onchange="loadMatches()"
                    class="w-full rounded-xl border border-slate-200 bg-white/85 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-400">
                    <option value="">Select a participant...</option>
                </select>
            </div>
            
            <div id="participant-profile"></div>
        </section>

        <section class="cards-grid" id="matches-container">
            <div class="empty-state col-span-full">
                <i class="fa-solid fa-arrow-up text-4xl mb-3"></i>
                <p>Select a participant above to see compatible volunteer matches</p>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        &copy; 2025 Ageless Bicyclists · Anchor Platform · Better matches, better rides
    </footer>
</body>
</html>
